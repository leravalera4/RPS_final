# Настройка кошелька платформы для сбора комиссий

## Обзор

Теперь платформа правильно собирает комиссии с SOL-игр и переводит их на указанный кошелек платформы.

## Настройка

1. **Откройте файл конфигурации:**
   ```
   backend/src/config/platformWallet.js
   ```

2. **Замените адрес-заглушку на ваш реальный адрес кошелька:**
   ```javascript
   // Замените эту строку:
   const PLATFORM_WALLET_ADDRESS = '11111111111111111111111111111112';
   
   // На ваш реальный адрес кошелька, например:
   const PLATFORM_WALLET_ADDRESS = 'YourActualWalletAddressHere123456789';
   ```

## Как работает сбор комиссий

### Размер комиссий:
- **Ставки ≤ 0.1 SOL:** 5% комиссия
- **Ставки ≤ 0.5 SOL:** 3% комиссия  
- **Ставки > 0.5 SOL:** 2% комиссия

### Процесс сбора:
1. Игроки ставят по X SOL каждый = 2X SOL общий пул
2. При завершении игры:
   - Победитель получает: `2X SOL - комиссия`
   - Кошелек платформы получает: `комиссия`
   - Игровой аккаунт остается с нулевым балансом

### Пример:
- Ставка: 0.5 SOL каждый
- Общий пул: 1.0 SOL
- Комиссия (3%): 0.03 SOL
- Победитель получает: 0.97 SOL
- Платформа получает: 0.03 SOL

## Логи

Автоматическая финализация теперь показывает подробную информацию:
```
Auto-finalization complete
Total pot: 1.000 SOL
Platform fee (3.0%): 0.030 SOL
Winner receives: 0.970 SOL
Platform wallet receives: 0.030 SOL
```

## Важно

⚠️ **Обязательно замените адрес-заглушку на реальный адрес кошелька перед деплоем в продакшн!**

Текущий адрес `11111111111111111111111111111112` - это адрес System Program, который не может получать SOL.
